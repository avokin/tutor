<%= javascript_include_tag 'words.js' %>

<div class="row" id="page_title">
  <div class="span4 offset4">
    <h1 class="word">Word: <span class="user_data"><%= @user_word.word.text %></span></h1>
  </div>
</div>

<%= form_for(@user_word) do |f| %>
    <div class="field">
      <%= fields_for @user_word.word do |word_fields| %>
          <%= word_fields.hidden_field :text %>
          <%= word_fields.label :language_id %>
          <%= word_fields.select(:language_id, @languages.map { |l| [l.name, l.id] }) %>
      <% end %>
    </div>

    <br/>

    <div id="translations">
      <input type="button" value="Add translation" class="btn" onclick="addTranslation();"/>
      <input data-autocomplete="/search/autocomplete_word_text" id="translation_0" name="translation_0" type="text" value=""/>
    </div>

    <br/>
    <div>
      <% l = [3, @translations.length - 1].min; (0..l).each do |i|%>
          <%= check_box_tag("suggested_translation_#{i}", @translations[i], i == 0) %>
          <%= @translations[i] %>
      <% end %>
    </div>

    <div id="synonyms">
      <input type="button" value="Add synonym" class="btn"  onclick="addSynonym();"/>
    </div>

    <div id="categories">
      <input type="button" value="Add category" class="btn"  onclick="addCategory();"/>
      
      <script type="text/javascript">
          <% @categories.each do |category| %>
          <%= "addCategory('#{category}')" %>
          <% end %>
      </script>
    </div>

    <%= f.submit :class => "btn btn-primary" %>
<% end %>
<%=set_focus_to_id('translation_0')%>